{% extends "static/base.html" %}

{% block title %}Welcome to Crisis Communicator{% endblock %}

{% block body %}
<br/>
<h2>Welcome to Crisis Communicator</h2>
<br>
<table style="border:1px dashed #ccc">
    <div id="map"></div>
</table>
<br>
<br>
<link rel="stylesheet" href="{{ STATIC_URL }}css/leaflet.css" type="text/css" />
<script src="{{ STATIC_URL }}js/leaflet.js"></script>
<script type="text/javascript">
    var map = L.map('map').setView([9.25868, 76.48819], 13);
    L.tileLayer('http://10.30.10.90/osm/{z}/{x}/{y}.png', {
                maxZoom: 18,
                attribution: 'Map data &copy; Crisis Communicator'
    }).addTo(map);

    L.marker([9.25868, 76.48819]).addTo(map)

    .bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();
    
    L.circle([9.25868, 76.48819], 500, {

        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5

    }).addTo(map).bindPopup("I am a circle.");

    var popup = L.popup();

    function onMapClick(e) {
        popup.setLatLng(e.latlng)
        .setContent("You clicked the map at " + e.latlng.toString())
        .openOn(map);
    }
    map.on('click', onMapClick);
</script>    
{{ user }}
{% endblock %}


